{% extends 'baseAdmin.html.twig' %}

{% block title %}Attribuer une note finale{% endblock %}

{% block body %}
    <div class="title m-3">
        <h1>Attribuer une note finale</h1> 
        
              
        
    </div>
    <div class="content">
        <table class="table table-striped table-responsive">
            <thead class="bg-warning text-center" style="font-weight:bold">
                <td>id_etudiant</td>
                <td>Etudiant</td>
                <td>Sujet</td>
                <td>Téchnologies</td>
                <td>Déscriptions</td>
                <td>Moyenne</td>
                <td>Attribuer une note</td>
                
            </thead>
            {% for userEcadreValid in usersEcadreValid %}
            <tbody>
            {% if  userEcadreValid != null %}
                <tr>
                    <td class="text-center">{{ userEcadreValid.id }}</td>
                    <td class="" ><a href="{{path('app_show_profile',{'id':userEcadreValid.id})}}" style="text-decoration :none; font-size:1em; ">{{ userEcadreValid.getName }} {{ userEcadreValid.getFirstname }}</a></td>
                    <td class="text-center">{{ userEcadreValid.stage.sujet }}</td>
                    <td class="text-center">{{ userEcadreValid.stage.technologies }}</td> 
                    <td class="text-center">{{ userEcadreValid.stage.description }}</td>
                    <td class="text-center">{% if userEcadreValid.note == null %}<span class ="text-danger" style="font-weight:bold">---/20</span>{% else %} <span class =" {% if userEcadreValid.note < 10  %} text-danger {% else %} text-success   {% endif %}    " style="font-weight:bold">{{userEcadreValid.note}} /20</span>{% endif %} </td>
                    <td class="text-center"> <a class="btn btn-secondary btn-sm "  href=""  data-bs-toggle="modal" data-bs-target="#exampleModal_{{userEcadreValid.id}}" > Attribuer une note</a>  </td>
                </tr>
               {{ render(path('app_note_modal', {'id': userEcadreValid.id })) }}
                
            {% endif %}
                    
                    <!-- Modal -->
                    {# {{ include('fragments/AttributionNoteModale.html.twig') }} #}
                    <!-- Modal -->
            {% endfor %}
             </tbody>
            
        </table>
    </div>


{% endblock %}


